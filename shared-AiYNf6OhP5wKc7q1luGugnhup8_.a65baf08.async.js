(self.webpackChunkairview=self.webpackChunkairview||[]).push([[343],{90199:function(k,F,u){"use strict";u.d(F,{I:function(){return P}});var E=function(n){return n.sm="sm",n.md="md",n.xl="xl",n.xs="xs",n.lg="lg",n}(E||{}),p=function(n){return n.ho="horizontal",n.ve="vertical",n.in="inline",n}(p||{}),r={1:/^[\w_-]{6,20}$/,2:/^.*(?=.{6,20})(?=.*\d)(?=.*[A-Z]{1,})(?=.*[a-z]{1,})(?=.*[!@#$%^&*?()]).*$/},i=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"\u683C\u5F0F\u9519\u8BEF";return function(S,c){return c?e.test(c)?Promise.resolve():Promise.reject(new Error(t)):Promise.resolve()}},v={width:E.lg,ruleRequired:function(e){return{required:!0,message:"\u8BF7\u586B\u5199".concat(e)}},ruleText:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:18;return{max:e,message:"\u8BF7\u4E0D\u8981\u8D85\u8FC7".concat(e,"\u4E2A\u5B57\u7B26")}},ruleTextarea:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:140;return{max:e,message:"\u8BF7\u4E0D\u8981\u8D85\u8FC7".concat(e,"\u4E2A\u5B57\u7B26")}},ruleUserName:function(e){var t=/^[a-zA-Z0-9_-]{4,16}$/;return{validator:i(t,e||"\u7528\u6237\u540D\u683C\u5F0F\u9519\u8BEF")}},rulePassword:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,S=r[e];return{validator:i(S,t||"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF")}},rulePhone:function(e){var t=/^1[3456789]\d{9}$/;return{validator:i(t,e||"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF")}},ruleEmail:function(e){var t=/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/;return{validator:i(t,e||"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF")}},rulePureDigital:function(e){var t=/^(\d)*$/;return{validator:i(t,e||"\u8BF7\u8F93\u5165\u7EAF\u6570\u5B57")}},ruleInternationalCode:function(e){var t=/^\d{20}$/;return{validator:i(t,e||"\u8BF7\u8F93\u5165\u7EAF\u6570\u5B57")}},ruleIp:function(e){var t=/^((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])(?::(?:[0-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5]))?$/;return{validator:i(t,e||"IP \u683C\u5F0F\u9519\u8BEF")}}},P={layout:p.ho,labelCol:{span:4},wrapperCol:{span:20},width:600}},68296:function(k,F,u){"use strict";u.d(F,{kt:function(){return P.Z},Hz:function(){return v.Z},Ak:function(){return M},yU:function(){return J},Em:function(){return i}});var E=u(5574),p=u.n(E),r=u(67294);function i(){var w=(0,r.useState)(!1),m=p()(w,2),l=m[0],T=m[1],a=(0,r.useState)(void 0),s=p()(a,2),R=s[0],y=s[1],B=(0,r.useState)(void 0),A=p()(B,2),O=A[0],D=A[1],z=function(U,Z,x){T(U),y(U?Z:void 0),D(U?x:void 0)};return[{visible:l,param:R,query:O},z]}var v=u(16097),P=u(9362),n=u(9783),e=u(15009),t=u(99289),S=u(96486),c={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},b={offerToReceiveAudio:!0,offerToReceiveVideo:!0},W=function(m,l){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"webrtc",a=arguments.length>3?arguments[3]:void 0,s=useRef(),R=useRef(),y=useRef(l);y.current=l;var B=useState("disconnected"),A=_slicedToArray(B,2),O=A[0],D=A[1];useEffect(function(){if(a!=null&&a.onConnectionState&&a.onConnectionState(O),a!=null&&a.onSuccess&&O==="connected"){var o;a==null||(o=a.onSuccess)===null||o===void 0||o.call(a)}},[O]);var z=function(){var o=_asyncToGenerator(_regeneratorRuntime().mark(function f(g){var _;return _regeneratorRuntime().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:_=g.streams[0],y.current&&y.current.srcObject!==_&&(y.current.srcObject=_);case 2:case"end":return C.stop()}},f)}));return function(g){return o.apply(this,arguments)}}(),H=function(){var o=_asyncToGenerator(_regeneratorRuntime().mark(function f(){var g,_,I,C;return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,fetch(m,{method:"POST",headers:a!=null&&a.tokenValue?_defineProperty({},a.tokenKey||"AuthToken",a.tokenValue):{},body:JSON.stringify(R.current)});case 3:return _=d.sent,d.next=6,_.json();case 6:if(I=d.sent,!(I.sdp&&((g=s.current)===null||g===void 0?void 0:g.signalingState)!=="stable")){d.next=11;break}return(C=s.current)===null||C===void 0||C.setRemoteDescription(I),s.current&&(s.current.ontrack=function(X){return z(X)}),d.abrupt("return");case 11:D("failed"),d.next=18;break;case 14:d.prev=14,d.t0=d.catch(0),console.error(d.t0),D("failed");case 18:case"end":return d.stop()}},f,null,[[0,14]])}));return function(){return o.apply(this,arguments)}}(),U=function(){var o=_asyncToGenerator(_regeneratorRuntime().mark(function f(g){var _;return _regeneratorRuntime().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(_=s.current)===null||_===void 0?void 0:_.setLocalDescription(g);case 2:R.current=g,H();case 4:case"end":return C.stop()}},f)}));return function(g){return o.apply(this,arguments)}}(),Z=function(){var o=_asyncToGenerator(_regeneratorRuntime().mark(function f(){var g,_,I;return _regeneratorRuntime().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,(g=s.current)===null||g===void 0?void 0:g.createOffer(b);case 3:if(I=h.sent,((_=s.current)===null||_===void 0?void 0:_.signalingState)==="stable"){h.next=6;break}return h.abrupt("return");case 6:U(I),h.next=12;break;case 9:h.prev=9,h.t0=h.catch(0),console.error("\u521B\u5EFA\u4F1A\u8BDD\u63CF\u8FF0\u5931\u8D25: ".concat(h.t0));case 12:case"end":return h.stop()}},f,null,[[0,9]])}));return function(){return o.apply(this,arguments)}}(),x=throttle(function(){D("checking"),s.current=new RTCPeerConnection(c),Z(),s.current.oniceconnectionstatechange=function(){var o;D(((o=s.current)===null||o===void 0?void 0:o.iceConnectionState)||"disconnected")}},1e3),L=function(){var f;(f=s.current)===null||f===void 0||f.close(),D("closed")},Q=function(){x()};return useEffect(function(){if(T==="webrtc")return s.current=void 0,L(),x(),function(){s.current=void 0,L()}},[m]),{connectionState:O,retry:Q,close:L}},j=null,$=function(m){var l=(0,r.useRef)(m);return l.current=m,(0,r.useRef)(function(){return l.current.apply(l,arguments)}).current},M=$,Y=u(97857),q=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=useState(m),T=_slicedToArray(l,2),a=T[0],s=T[1],R=useCallback(function(y){return s(function(B){return _objectSpread(_objectSpread({},B),y)})},[]);return[a,R]},ee=null,K=u(64599),G=u.n(K);function V(w,m){var l;return function(){for(var T=this,a=arguments.length,s=new Array(a),R=0;R<a;R++)s[R]=arguments[R];clearTimeout(l),l=setTimeout(function(){w.apply(T,s)},m)}}function N(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,m=(0,r.useState)({width:0,height:0,bottom:0,left:0,right:0,top:0,x:0,y:0}),l=p()(m,2),T=l[0],a=l[1],s=(0,r.useRef)(null);return(0,r.useEffect)(function(){var R=V(function(B){if(Array.isArray(B)){var A=G()(B),O;try{for(A.s();!(O=A.n()).done;){var D=O.value;a(D.contentRect)}}catch(z){A.e(z)}finally{A.f()}}},w);if(s.current){var y=new ResizeObserver(R);return y.observe(s.current),function(){return y.disconnect()}}},[w]),[s,T]}var J=N},9362:function(k,F,u){"use strict";var E=u(5574),p=u.n(E),r=u(67294),i=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=(0,r.useState)(P),e=p()(n,2),t=e[0],S=e[1],c=(0,r.useRef)({on:(0,r.useCallback)(function(){return S(!0)},[]),off:(0,r.useCallback)(function(){return S(!1)},[]),toggle:(0,r.useCallback)(function(){return S(function(b){return!b})},[])}).current;return[t,c]};F.Z=i},16097:function(k,F,u){"use strict";var E=u(5574),p=u.n(E),r=u(67294),i=function(){var P=(0,r.useState)(!1),n=p()(P,2),e=n[0],t=n[1],S=(0,r.useRef)(null),c=function(j){if(j.stopPropagation(),console.log(e),e){var M;(M=document)===null||M===void 0||M.exitFullscreen(),t(!1)}else{var $;($=S.current)===null||$===void 0||$.requestFullscreen(),t(!0)}},b=function(){var j=document,$=j.fullscreenElement||j.webkitFullscreenElement||j.webkitCurrentFullScreenElement||j.mozFullScreenElement||j.msFullscreenElement;$||t(!1)};return(0,r.useEffect)(function(){return document.addEventListener("fullscreenchange",b,!1),function(){document.removeEventListener("fullscreenchange",b,!1)}},[]),[e,c,S,t]};F.Z=i},64599:function(k,F,u){var E=u(96263);function p(r,i){var v=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!v){if(Array.isArray(r)||(v=E(r))||i&&r&&typeof r.length=="number"){v&&(r=v);var P=0,n=function(){};return{s:n,n:function(){return P>=r.length?{done:!0}:{done:!1,value:r[P++]}},e:function(b){throw b},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var e=!0,t=!1,S;return{s:function(){v=v.call(r)},n:function(){var b=v.next();return e=b.done,b},e:function(b){t=!0,S=b},f:function(){try{!e&&v.return!=null&&v.return()}finally{if(t)throw S}}}}k.exports=p,k.exports.__esModule=!0,k.exports.default=k.exports}}]);
