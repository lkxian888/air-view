"use strict";(self.webpackChunkairview=self.webpackChunkairview||[]).push([[35],{21178:function(Z,I,t){t.r(I),t.d(I,{default:function(){return x}});var b=t(19632),i=t.n(b),M=t(5574),l=t.n(M),f=t(67294),o=t(25713),c=t(15009),y=t.n(c),D=t(99289),P=t.n(D),_=t(48689),w=t(38703),g=t(86738),T=t(14726),j=t(59628),p=t(54693),u=t(85893),S=function(v){var d=v.onSuccess,h=function(){var a=P()(y()().mark(function n(s){return y()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:try{p.Nw.deleteDownLoadItem(s.id),j.yw.success("\u5220\u9664\u6210\u529F"),d()}catch(A){console.log(A)}case 1:case"end":return R.stop()}},n)}));return function(s){return a.apply(this,arguments)}}(),m=function(n){switch(n.serverStatus){case p.X2.UPLOADING:return"\u8BF7\u6C42\u8D44\u6E90\u4E2D".concat(n.download_percentage||0,"%");case p.X2.ERROR:return"\u4E0B\u8F7D\u5931\u8D25";case p.X2.DONE:return n.percentage===100?"\u4E0B\u8F7D\u5B8C\u6210":"".concat(n.percentage||0,"%");default:return""}},e=[{title:"\u8BBE\u5907\u540D\u79F0",dataIndex:"name",hideInSearch:!0},{title:"\u5F00\u59CB\u65F6\u95F4",dataIndex:"start_time",valueType:"dateTime",hideInSearch:!0},{title:"\u7ED3\u675F\u65F6\u95F4",dataIndex:"end_time",valueType:"dateTime",hideInSearch:!0},{title:"\u4E0B\u8F7D\u8FDB\u5EA6",dataIndex:"download_percentage",hideInSearch:!0,render:function(n,s){return(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)(w.Z,{percent:s.percentage||0,status:"active",showInfo:!1}),(0,u.jsx)("div",{style:{width:"160px"},children:m(s)})]})}},{title:"\u89C6\u9891\u5927\u5C0F",dataIndex:"size",hideInSearch:!0,render:function(n){var s=n&&typeof n=="number"?(n/1024/1024).toFixed(2):0;return"".concat(s," M")}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(n,s){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(g.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u4E0B\u8F7D\u5417?",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onConfirm:function(){return h(s)},children:(0,u.jsx)(T.ZP,{danger:!0,size:"small",icon:(0,u.jsx)(_.Z,{}),type:"link",children:"\u5220\u9664"})})})}}];return{columns:e}},C=S,U=t(17625),O=function(){var v=(0,U.R)(p.ZP),d=(0,f.useRef)(),h=function(){d.current&&d.current.reload()},m=C({onSuccess:h}),e=m.columns,a=(0,f.useState)([]),n=l()(a,2),s=n[0],r=n[1];return(0,f.useEffect)(function(){r(i()(v.downloadTableList))},[v.downloadTableList]),(0,u.jsx)("div",{children:(0,u.jsx)(o.Z,{actionRef:d,rowKey:"id",scroll:{x:"max-content"},search:!1,dataSource:s,columns:e,pagination:!1})})},x=O},94132:function(Z,I,t){t.d(I,{EF:function(){return w},Q$:function(){return U},WD:function(){return P},aS:function(){return S},ai:function(){return y},fD:function(){return T},gH:function(){return x},tX:function(){return p}});var b=t(15009),i=t.n(b),M=t(97857),l=t.n(M),f=t(99289),o=t.n(f),c=t(53424);function y(e,a){return D.apply(this,arguments)}function D(){return D=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.DragZoomIn",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),D.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.DragZoomIn"})(y||(y={}));function P(e,a){return _.apply(this,arguments)}function _(){return _=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.DragZoomOut",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),_.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.DragZoomOut"})(P||(P={}));function w(e,a){return g.apply(this,arguments)}function g(){return g=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.Play",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),g.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.Play"})(w||(w={}));function T(e,a){return j.apply(this,arguments)}function j(){return j=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.PresetControl",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),j.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.PresetControl"})(T||(T={}));function p(e,a){return u.apply(this,arguments)}function u(){return u=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.PresetList",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),u.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.PresetList"})(p||(p={}));function S(e,a){return C.apply(this,arguments)}function C(){return C=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.PTZControl",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),C.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.PTZControl"})(S||(S={}));function U(e,a){return O.apply(this,arguments)}function O(){return O=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.RecordQuery",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),O.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.RecordQuery"})(U||(U={}));function x(e,a){return E.apply(this,arguments)}function E(){return E=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/rpc/air-view-srv/DevicePlay.StopDownload",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),E.apply(this,arguments)}(function(e){var a=e.apiUrl="/rpc/air-view-srv/DevicePlay.StopDownload"})(x||(x={}));function v(e,a){return d.apply(this,arguments)}function d(){return d=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/ws/air-view-srv/DevicePlay.Alarm",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),d.apply(this,arguments)}(function(e){var a=e.apiUrl="/ws/air-view-srv/DevicePlay.Alarm"})(v||(v={}));function h(e,a){return m.apply(this,arguments)}function m(){return m=o()(i()().mark(function e(a,n){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/ws/air-view-srv/DevicePlay.StartDownload",l()({method:"POST",headers:{"Content-Type":"application/json"},data:a},n||{})));case 1:case"end":return r.stop()}},e)})),m.apply(this,arguments)}(function(e){var a=e.apiUrl="/ws/air-view-srv/DevicePlay.StartDownload"})(h||(h={}))}}]);
