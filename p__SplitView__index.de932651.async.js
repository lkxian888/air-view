(self.webpackChunkairview=self.webpackChunkairview||[]).push([[49],{39398:function(ee,W,r){"use strict";r.d(W,{Z:function(){return k}});var _=r(87462),f=r(67294),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},l=o,T=r(84089),S=function(c,d){return f.createElement(T.Z,(0,_.Z)({},c,{ref:d,icon:l}))},I=f.forwardRef(S),k=I},68296:function(ee,W,r){"use strict";r.d(W,{kt:function(){return S.Z},Hz:function(){return T.Z},Ak:function(){return de},yU:function(){return Oe},Em:function(){return l}});var _=r(5574),f=r.n(_),o=r(67294);function l(){var G=(0,o.useState)(!1),M=f()(G,2),b=M[0],N=M[1],v=(0,o.useState)(void 0),p=f()(v,2),P=p[0],L=p[1],Q=(0,o.useState)(void 0),F=f()(Q,2),z=F[0],$=F[1],fe=function(ne,Pe,ie){N(ne),L(ne?Pe:void 0),$(ne?ie:void 0)};return[{visible:b,param:P,query:z},fe]}var T=r(16097),S=r(9362),I=r(9783),k=r(15009),A=r(99289),c=r(96486),d={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},E={offerToReceiveAudio:!0,offerToReceiveVideo:!0},be=function(M,b){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"webrtc",v=arguments.length>3?arguments[3]:void 0,p=useRef(),P=useRef(),L=useRef(b);L.current=b;var Q=useState("disconnected"),F=_slicedToArray(Q,2),z=F[0],$=F[1];useEffect(function(){if(v!=null&&v.onConnectionState&&v.onConnectionState(z),v!=null&&v.onSuccess&&z==="connected"){var C;v==null||(C=v.onSuccess)===null||C===void 0||C.call(v)}},[z]);var fe=function(){var C=_asyncToGenerator(_regeneratorRuntime().mark(function D(j){var O;return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:O=j.streams[0],L.current&&L.current.srcObject!==O&&(L.current.srcObject=O);case 2:case"end":return i.stop()}},D)}));return function(j){return C.apply(this,arguments)}}(),ve=function(){var C=_asyncToGenerator(_regeneratorRuntime().mark(function D(){var j,O,X,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(M,{method:"POST",headers:v!=null&&v.tokenValue?_defineProperty({},v.tokenKey||"AuthToken",v.tokenValue):{},body:JSON.stringify(P.current)});case 3:return O=e.sent,e.next=6,O.json();case 6:if(X=e.sent,!(X.sdp&&((j=p.current)===null||j===void 0?void 0:j.signalingState)!=="stable")){e.next=11;break}return(i=p.current)===null||i===void 0||i.setRemoteDescription(X),p.current&&(p.current.ontrack=function(m){return fe(m)}),e.abrupt("return");case 11:$("failed"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),$("failed");case 18:case"end":return e.stop()}},D,null,[[0,14]])}));return function(){return C.apply(this,arguments)}}(),ne=function(){var C=_asyncToGenerator(_regeneratorRuntime().mark(function D(j){var O;return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(O=p.current)===null||O===void 0?void 0:O.setLocalDescription(j);case 2:P.current=j,ve();case 4:case"end":return i.stop()}},D)}));return function(j){return C.apply(this,arguments)}}(),Pe=function(){var C=_asyncToGenerator(_regeneratorRuntime().mark(function D(){var j,O,X;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(j=p.current)===null||j===void 0?void 0:j.createOffer(E);case 3:if(X=t.sent,((O=p.current)===null||O===void 0?void 0:O.signalingState)==="stable"){t.next=6;break}return t.abrupt("return");case 6:ne(X),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("\u521B\u5EFA\u4F1A\u8BDD\u63CF\u8FF0\u5931\u8D25: ".concat(t.t0));case 12:case"end":return t.stop()}},D,null,[[0,9]])}));return function(){return C.apply(this,arguments)}}(),ie=throttle(function(){$("checking"),p.current=new RTCPeerConnection(d),Pe(),p.current.oniceconnectionstatechange=function(){var C;$(((C=p.current)===null||C===void 0?void 0:C.iceConnectionState)||"disconnected")}},1e3),pe=function(){var D;(D=p.current)===null||D===void 0||D.close(),$("closed")},De=function(){ie()};return useEffect(function(){if(N==="webrtc")return p.current=void 0,pe(),ie(),function(){p.current=void 0,pe()}},[M]),{connectionState:z,retry:De,close:pe}},V=null,K=function(M){var b=(0,o.useRef)(M);return b.current=M,(0,o.useRef)(function(){return b.current.apply(b,arguments)}).current},de=K,Ze=r(97857),Ee=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=useState(M),N=_slicedToArray(b,2),v=N[0],p=N[1],P=useCallback(function(L){return p(function(Q){return _objectSpread(_objectSpread({},Q),L)})},[]);return[v,P]},se=null,ye=r(64599),n=r.n(ye);function we(G,M){var b;return function(){for(var N=this,v=arguments.length,p=new Array(v),P=0;P<v;P++)p[P]=arguments[P];clearTimeout(b),b=setTimeout(function(){G.apply(N,p)},M)}}function Me(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,M=(0,o.useState)({width:0,height:0,bottom:0,left:0,right:0,top:0,x:0,y:0}),b=f()(M,2),N=b[0],v=b[1],p=(0,o.useRef)(null);return(0,o.useEffect)(function(){var P=we(function(Q){if(Array.isArray(Q)){var F=n()(Q),z;try{for(F.s();!(z=F.n()).done;){var $=z.value;v($.contentRect)}}catch(fe){F.e(fe)}finally{F.f()}}},G);if(p.current){var L=new ResizeObserver(P);return L.observe(p.current),function(){return L.disconnect()}}},[G]),[p,N]}var Oe=Me},9362:function(ee,W,r){"use strict";var _=r(5574),f=r.n(_),o=r(67294),l=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=(0,o.useState)(S),k=f()(I,2),A=k[0],c=k[1],d=(0,o.useRef)({on:(0,o.useCallback)(function(){return c(!0)},[]),off:(0,o.useCallback)(function(){return c(!1)},[]),toggle:(0,o.useCallback)(function(){return c(function(E){return!E})},[])}).current;return[A,d]};W.Z=l},16097:function(ee,W,r){"use strict";var _=r(5574),f=r.n(_),o=r(67294),l=function(){var S=(0,o.useState)(!1),I=f()(S,2),k=I[0],A=I[1],c=(0,o.useRef)(null),d=function(V){if(V.stopPropagation(),console.log(k),k){var de;(de=document)===null||de===void 0||de.exitFullscreen(),A(!1)}else{var K;(K=c.current)===null||K===void 0||K.requestFullscreen(),A(!0)}},E=function(){var V=document,K=V.fullscreenElement||V.webkitFullscreenElement||V.webkitCurrentFullScreenElement||V.mozFullScreenElement||V.msFullscreenElement;K||A(!1)};return(0,o.useEffect)(function(){return document.addEventListener("fullscreenchange",E,!1),function(){document.removeEventListener("fullscreenchange",E,!1)}},[]),[k,d,c,A]};W.Z=l},61545:function(ee,W,r){"use strict";r.r(W),r.d(W,{default:function(){return X}});var _=r(97857),f=r.n(_),o=r(15009),l=r.n(o),T=r(99289),S=r.n(T),I=r(19632),k=r.n(I),A=r(5574),c=r.n(A),d=r(67294),E=r(66151),be=r(26855),V=r(98163),K=r(18062),de=r(93967),Ze=r.n(de),Ee=r(39398),se=r(98388),ye=r(68296),n=r(85893),we=function(t){var e=t.onMouseDown,m=t.onMouseUp,h=t.className;return(0,n.jsx)("div",{className:(0,se.m6)("h-[30px] w-[30px] cursor-pointer active:text-blue-900",h),onMouseDown:e,onMouseUp:m,children:(0,n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 2L2 12H22L12 2Z",fill:"currentColor"})})})},Me=function(){return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M21 21L16.65 16.65",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M11 8V14M8 11H14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Oe=function(){return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M21 21L16.65 16.65",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M8 11H14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})},G=function(t){var e=t.onDirectionMouseDown,m=t.onDirectionMouseUp,h=t.className,he=(0,ye.kt)(!0),ue=c()(he,2),re=ue[0],R=ue[1],J="cursor-pointer bg-[#3d3d3db1] px-[5px] active:text-blue-900 pt-[4px]";return(0,n.jsxs)("div",{className:h,children:[(0,n.jsxs)("div",{className:"h-[35px] cursor-pointer bg-[#ededed] text-center leading-[35px] dark:bg-[#3d3d3db1]",onClick:function(){return R.toggle()},children:["\u63A7\u7403",(0,n.jsx)(Ee.Z,{})]}),(0,n.jsx)("div",{className:(0,se.m6)("relative overflow-hidden pt-[2px] transition-all duration-[0.1s]",re?"h-[190px]":"h-[0px]"),children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-[20px] text-center text-white",children:[(0,n.jsxs)("div",{className:"relative flex size-[120px] flex-col items-center justify-center rounded-full bg-[#3d3d3db1]",children:[(0,n.jsx)(we,{className:(0,se.m6)("absolute left-[50%] top-[10px] translate-x-[-50%]"),onMouseDown:function(){return e("PTZ_UP")},onMouseUp:function(){return m("PTZ_UP")}}),(0,n.jsxs)("div",{className:"absolute flex w-full items-center justify-between px-[10px]",style:{top:"50%",transform:"translateY(-50%)"},children:[(0,n.jsx)(we,{className:"-rotate-90",onMouseDown:function(){return e("PTZ_LEFT")},onMouseUp:function(){return m("PTZ_LEFT")}}),(0,n.jsx)("div",{className:"size-[16px] rounded-full bg-white"}),(0,n.jsx)(we,{className:"rotate-90",onMouseDown:function(){return e("PTZ_RIGHT")},onMouseUp:function(){return m("PTZ_RIGHT")}})]}),(0,n.jsx)(we,{className:"absolute bottom-[10px] left-[50%] translate-x-[-50%] rotate-180",onMouseDown:function(){return e("PTZ_DOWN")},onMouseUp:function(){return m("PTZ_DOWN")}})]}),(0,n.jsxs)("div",{className:"flex w-1/2 justify-around",children:[(0,n.jsx)("div",{className:J,onMouseDown:function(){return e("PTZ_ZOOMIN")},onMouseUp:function(){return m("PTZ_ZOOMIN")},children:(0,n.jsx)(Me,{})}),(0,n.jsx)("div",{className:J,onMouseDown:function(){return e("PTZ_ZOOMOUT")},onMouseUp:function(){return m("PTZ_ZOOMOUT")},children:(0,n.jsx)(Oe,{})})]})]})})]})},M=G,b=r(59628),N=r(71893),v=function(t){var e=t.point,m=t.selectPoint,h=t.setSelectPoint,he=t.callPreset,ue=t.setPreset,re=t.updateName,R=t.deletePreset,J=(0,d.useState)(!1),x=c()(J,2),oe=x[0],Y=x[1],me=(0,d.useState)(e.name),Ce=c()(me,2),le=Ce[0],ge=Ce[1],Se=function(){re(f()(f()({},e),{},{name:le})),Y(!1)};return(0,d.useEffect)(function(){ge(e.name)},[e]),(0,d.useEffect)(function(){m!==e.id&&Y(!1)},[m]),(0,n.jsxs)("div",{className:(0,se.m6)("flex h-[30px] cursor-pointer justify-between px-[10px] leading-[30px]",m===e.id&&"bg-[#d8d8d8]"),style:e.enabled?{}:{opacity:.5},onClick:function(){h(e.id)},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"inline-block w-[30px]",children:e.id}),oe?(0,n.jsx)("input",{value:le,onChange:function(xe){return ge(xe.target.value)},onBlur:Se}):(0,n.jsx)("span",{onDoubleClick:function(){return Y(!0)},children:e.name})]}),m===e.id&&(0,n.jsxs)("div",{className:"text-[12px]",children:[e.enabled&&(0,n.jsx)("span",{title:"\u8C03\u7528",onClick:function(){return he(e)},children:(0,n.jsx)(N.Z,{name:"call"})}),(0,n.jsx)("span",{className:"mx-[8px]",title:"\u8BBE\u7F6E",onClick:function(){return ue(f()(f()({},e),{},{enabled:!0,name:le}))},children:(0,n.jsx)(N.Z,{name:"setting"})}),e.enabled&&(0,n.jsx)("span",{title:"\u5220\u9664",onClick:function(){return R(e)},children:(0,n.jsx)(N.Z,{name:"error"})})]})]})},p=v,P=r(94132),L=function(t){var e=t.currentVideoData,m=(0,ye.kt)(!0),h=c()(m,2),he=h[0],ue=h[1],re=Array.from({length:255},function(Z,y){return{id:y+1,name:"\u9884\u7F6E\u70B9".concat(y+1),enabled:!1}}),R=(0,d.useState)(re),J=c()(R,2),x=J[0],oe=J[1],Y=(0,d.useState)(null),me=c()(Y,2),Ce=me[0],le=me[1],ge=function(){var Z=S()(l()().mark(function y(){var H;return l()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,(0,P.tX)({device_id:e.device_id,channel_id:e.channel_id,device_type:e.device_type});case 3:H=U.sent,oe(H.preset),U.next=10;break;case 7:U.prev=7,U.t0=U.catch(0),console.log(U.t0);case 10:case"end":return U.stop()}},y,null,[[0,7]])}));return function(){return Z.apply(this,arguments)}}();(0,d.useEffect)(function(){if(!(e!=null&&e.channel_id)){oe(re);return}ge()},[e==null?void 0:e.channel_id]);var Se=function(){var Z=S()(l()().mark(function y(H,ce){return l()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,(0,P.fD)({device_id:e.device_id,channel_id:e.channel_id,device_type:e.device_type,control_type:H,preset:ce});case 3:H!=="PRESET_CALL"&&ge(),B.next=9;break;case 6:B.prev=6,B.t0=B.catch(0),console.log(B.t0);case 9:case"end":return B.stop()}},y,null,[[0,6]])}));return function(H,ce){return Z.apply(this,arguments)}}(),q=function(y){var H=x.map(function(ce){return ce.id===y.id?f()(f()({},y),{},{name:y.name}):ce});oe(H)},xe=function(y){Se("PRESET_CALL",y)},Te=function(y){Se("PRESET_SET",y)},Re=function(y){Se("PRESET_DELETE",y)};return(0,n.jsxs)("div",{className:(0,se.m6)("w-[100%] bg-white dark:bg-transparent"),children:[(0,n.jsxs)("div",{className:"h-[35px] cursor-pointer bg-[#ededed] text-center leading-[35px] dark:bg-[#3d3d3db1]",onClick:function(){return ue.toggle()},children:["\u9884\u7F6E\u70B9",(0,n.jsx)(Ee.Z,{})]}),(0,n.jsxs)("div",{className:(0,se.m6)("relative transition-[height] duration-[0.2s] dark:bg-transparent",he?"h-[300px]":"h-[0px]"),children:[(0,n.jsx)(K.Z,{className:"h-full overflow-auto",children:x.map(function(Z){return(0,n.jsx)(p,{point:Z,selectPoint:Ce,setSelectPoint:le,setPreset:Te,callPreset:xe,updateName:q,deletePreset:Re},Z.id)})}),!(e!=null&&e.ptz)&&(0,n.jsx)("div",{className:(0,se.m6)("absolute left-0 top-0 h-full w-full cursor-not-allowed")})]})]})},Q=L,F=r(44762),z=r(43538),$=r(67419),fe=r(16097),ve=r(36493),ne=r(53424);function Pe(i,t){return ie.apply(this,arguments)}function ie(){return ie=S()(l()().mark(function i(t,e){return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,ne.request)("/rpc/air-view-srv/DeviceSnap.DeleteSnap",f()({method:"POST",headers:{"Content-Type":"application/json"},data:t},e||{})));case 1:case"end":return h.stop()}},i)})),ie.apply(this,arguments)}(function(i){var t=i.apiUrl="/rpc/air-view-srv/DeviceSnap.DeleteSnap"})(Pe||(Pe={}));function pe(i,t){return De.apply(this,arguments)}function De(){return De=S()(l()().mark(function i(t,e){return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,ne.request)("/rpc/air-view-srv/DeviceSnap.GetSnap",f()({method:"POST",headers:{"Content-Type":"application/json"},data:t},e||{})));case 1:case"end":return h.stop()}},i)})),De.apply(this,arguments)}(function(i){var t=i.apiUrl="/rpc/air-view-srv/DeviceSnap.GetSnap"})(pe||(pe={}));function C(i,t){return D.apply(this,arguments)}function D(){return D=S()(l()().mark(function i(t,e){return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,ne.request)("/rpc/air-view-srv/DeviceSnap.ListSnap",f()({method:"POST",headers:{"Content-Type":"application/json"},data:t},e||{})));case 1:case"end":return h.stop()}},i)})),D.apply(this,arguments)}(function(i){var t=i.apiUrl="/rpc/air-view-srv/DeviceSnap.ListSnap"})(C||(C={}));var j={split_view_container:"split_view_container____ueHg",bottom_wrap:"bottom_wrap___uXnyc",tree_container:"tree_container___O608H",content_container:"content_container___Qyjku"},O=function(){var t,e=(0,d.useState)(4),m=c()(e,2),h=m[0],he=m[1],ue=(0,d.useState)([]),re=c()(ue,2),R=re[0],J=re[1],x=(0,d.useState)(0),oe=c()(x,2),Y=oe[0],me=oe[1],Ce=(0,d.useState)(0),le=c()(Ce,2),ge=le[0],Se=le[1],q=(0,d.useState)(!1),xe=c()(q,2),Te=xe[0],Re=xe[1],Z=(0,fe.Z)(),y=c()(Z,3),H=y[0],ce=y[1],U=y[2],B=be.ZP.useNotification(),Ue=c()(B,2),_e=Ue[0],Ge=Ue[1],ze=(0,ye.Em)(),Ae=c()(ze,2),ke=Ae[0],Le=Ae[1],$e=(0,ye.yU)(),Ie=c()($e,2),He=Ie[0],Ve=Ie[1];(0,d.useEffect)(function(){var w=k()(Array(16)).map(function(){return{url:"",name:""}});J(w)},[]);var Ke=function(u){he(u),me(0)},Qe=function(u){me(u>=h?0:u)},Xe=function(){var w=S()(l()().mark(function u(s,g,te){var a;return l()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(0,P.EF)({device_id:s,channel_id:g,play_type:"REALTIME",start_time:(0,ve.mr)(null,ve.Rf),end_time:(0,ve.mr)(null,ve.Rf),device_type:te||""});case 2:return a=ae.sent,ae.abrupt("return",a.play_url);case 4:case"end":return ae.stop()}},u)}));return function(s,g,te){return w.apply(this,arguments)}}(),Fe=function(){var w=S()(l()().mark(function u(s){var g,te,a,Ne,ae,We;return l()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return console.log(s),g=s.index,te=s.parentId,a=s.channelId,Ne=s.device_type,ae=s.name,je.next=4,Xe(te,a,Ne);case 4:We=je.sent,R[g].url=We,R[g].name=ae,R[g].device_id=te,R[g].channel_id=a,R[g].device_type=s.device_type,R[g].ptz=s.ptz,J(k()(R));case 12:case"end":return je.stop()}},u)}));return function(s){return w.apply(this,arguments)}}(),Je=function(u){Fe(f()(f()({},u),{},{index:Y}))},Ye=function(u){return Se(u)},qe=function(u){Fe(f()(f()({},u),{},{index:ge}))},en=function(u){_e.success({placement:"bottomRight",message:"\u62CD\u7167\u6210\u529F",description:(0,n.jsx)("div",{className:"cursor-pointer text-[blue]",onClick:function(){return Le(!0,{url:u})},children:"\u67E5\u770B\u7167\u7247"})})},Be=function(){var w=S()(l()().mark(function u(s){var g;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(g=R[Y],g.ptz){a.next=4;break}return s!=="PTZ_STOP"&&b.yw.info("\u4E0D\u652F\u6301\u6B64\u9879\u529F\u80FD"),a.abrupt("return");case 4:return a.prev=4,a.next=7,(0,P.aS)({device_id:g.device_id,channel_id:g.channel_id,ptz_type:s,device_type:g.device_type});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),console.log(a.t0);case 12:case"end":return a.stop()}},u,null,[[4,9]])}));return function(s){return w.apply(this,arguments)}}(),nn=H||Te;return(0,n.jsxs)(E.Z,{split:"vertical",className:j.split_view_container,bodyStyle:{flexWrap:"wrap"},ref:U,children:[(0,n.jsx)(F.Z,{currentGrid:h,onClick:function(u){return Ke(u)},isCloseTree:Te,changeCloseTree:Re,changeFull:ce,fullscreen:H}),(0,n.jsxs)("div",{className:j.bottom_wrap,style:{display:"flex"},children:[(0,n.jsxs)("div",{className:Ze()(j.tree_container,"dark:!border-[#424242]",nn&&"!w-0 !overflow-hidden !p-0"),children:[(0,n.jsx)(K.Z,{style:{height:"calc(100% - ".concat(Ve.height,"px)"),overflow:"auto"},children:(0,n.jsx)($.Z,{onChange:Je,onDragEnd:qe})}),(0,n.jsxs)("div",{ref:He,className:"absolute bottom-0 left-1/2 z-[9] w-full -translate-x-1/2",children:[(0,n.jsx)(M,{onDirectionMouseDown:function(u){Be(u)},onDirectionMouseUp:S()(l()().mark(function w(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:Be("PTZ_STOP");case 1:case"end":return s.stop()}},w)}))}),(0,n.jsx)(Q,{currentVideoData:R[Y]})]})]}),(0,n.jsxs)(E.Z,{className:j.content_container,bodyStyle:{padding:0},children:[(0,n.jsx)(z.Z,{isActual:!0,currentGrid:h,videoListData:R,currentSelectIndex:Y,onChangeSelectGrig:Qe,onDrop:Ye,onPhotograph:function(){var w=S()(l()().mark(function u(s){var g;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,pe({device_id:s.device_id,channel_id:s.channel_id,device_type:s.device_type});case 3:g=a.sent,en(g.url),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},u,null,[[0,7]])}));return function(u){return w.apply(this,arguments)}}(),onZoom:function(){var w=S()(l()().mark(function u(s){var g;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(s.childWidth<20||s.childHeight<20)){a.next=2;break}return a.abrupt("return");case 2:if(g={device_id:s.device_id,channel_id:s.channel_id,length:Math.floor(s.parentHeight),width:Math.floor(s.parentWidth),mid_point_x:Math.floor(s.x),mid_point_y:Math.floor(s.y),length_x:Math.floor(s.childWidth),length_y:Math.floor(s.childHeight),device_type:s.device_type},a.prev=3,s.type!=="zoomIn"){a.next=9;break}return a.next=7,(0,P.ai)(g);case 7:a.next=11;break;case 9:return a.next=11,(0,P.WD)(g);case 11:console.log("\u53D8\u7126",s),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(3),console.log(a.t0);case 17:case"end":return a.stop()}},u,null,[[3,14]])}));return function(u){return w.apply(this,arguments)}}()}),Ge,ke.visible&&(0,n.jsx)(V.Z,{width:200,style:{display:"none"},preview:{visible:ke.visible,scaleStep:1,src:((t=ke.param)===null||t===void 0?void 0:t.url)||"adsf",onVisibleChange:function(u){Le(u)}}})]})]})]})},X=O},64599:function(ee,W,r){var _=r(96263);function f(o,l){var T=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!T){if(Array.isArray(o)||(T=_(o))||l&&o&&typeof o.length=="number"){T&&(o=T);var S=0,I=function(){};return{s:I,n:function(){return S>=o.length?{done:!0}:{done:!1,value:o[S++]}},e:function(E){throw E},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=!0,A=!1,c;return{s:function(){T=T.call(o)},n:function(){var E=T.next();return k=E.done,E},e:function(E){A=!0,c=E},f:function(){try{!k&&T.return!=null&&T.return()}finally{if(A)throw c}}}}ee.exports=f,ee.exports.__esModule=!0,ee.exports.default=ee.exports}}]);
